@model IEnumerable<PublicServicesCardsProject.Models.Appointment>

@{
    ViewBag.Title = "Appointments";
}
@if (User.IsInRole("Staff") || User.IsInRole("Manager"))
{
<h2>Appointments</h2>

<table class="table table-hover">
    <tr>
        <th>
            Office
        </th>
        <th>
            Staff Name
        </th>
        <th>
           Customer Name
        </th>
        <th>
            Appointment Date
        </th>
        <th>
            Appointment  Time
        </th>
        <th></th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Building.SafeOffice)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Staff.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Customer.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateOfAppointment)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TimeOfAppointment)
        </td>
        <td>
            @Html.ActionLink(" Details", "Details", new { id = item.AppointmentId }, htmlAttributes: new { @class = " fa fa-info " }) |
            @Html.ActionLink(" Delete", "Delete", new { id = item.AppointmentId }, htmlAttributes: new { @class = " fa fa-trash-o " })
        </td>
    </tr>
}

</table>
}
else
{
    <h2>Make An Appointment</h2>

    if (Model.Count() != 0)
    {
    <table class="table table-hover">
        <tr>
            <th>
                Office
            </th>
            <th>
                Staff Name
            </th>
            <th>
                Customer Name
            </th>
            <th>
                Appointment Date
            </th>
            <th>
                Appointment  Time
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Building.SafeOffice)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Staff.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Customer.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateOfAppointment)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TimeOfAppointment)
                </td>
                <td>
                    @Html.ActionLink(" Edit", "Edit", new { id = item.AppointmentId }, htmlAttributes: new { @class = " fa fa-edit" }) |
                    @Html.ActionLink(" Details", "Details", new { id = item.AppointmentId }, htmlAttributes: new { @class = " fa fa-info " }) |
                    @Html.ActionLink(" Cancel", "Delete", new { id = item.AppointmentId }, htmlAttributes: new { @class = " fa fa-trash-o " })
                </td>
            </tr>
        }
    </table>
    }
    else {
        <p>
            <button>@Html.ActionLink("New", "Create", new { id = 1 })</button>
        </p>
    }
}
